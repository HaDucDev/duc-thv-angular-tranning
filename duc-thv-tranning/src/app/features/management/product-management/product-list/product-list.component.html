<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h5 class="mb-0">List of Products</h5>
    <button class="btn btn-primary" (click)="openAddProduct()" *ngIf="isControlBtnShow">Add</button>
  </div>

  <div class="table-responsive shadow-sm rounded">
    <table class="table table-bordered align-middle">
      <thead class="thead-dark">
        <tr class="table-primary text-center">
          <th scope="col">Code</th>
          <th scope="col">Name & Image</th>
          <th scope="col">Price</th>
          <th scope="col">Quantity</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products" class="text-center" (click)="viewCardProduct(product)" [class.selected]="isProductSelected(product)">
          <td>{{ product.code }}</td>
          <td>
            <div>{{ product.name }}</div>
            <img [src]="product.image" alt="Product Image" width="60" height="60" class="rounded mt-1">
          </td>
          <td>&#36;{{ product.price | number:'1.2-2' }}</td>
          <td>{{ product.quantity }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<nav *ngIf="totalProducts > pageSize" class="mt-3">
  <ul class="pagination justify-content-center">
    <li class="page-item" [class.disabled]="currentPage === 1">
      <button class="page-link" (click)="goToPage(currentPage - 1)">Previous</button>
    </li>

    <li class="page-item"
        *ngFor="let page of getTotalPages()"
        [class.active]="currentPage === page">
      <button class="page-link" (click)="goToPage(page)">
        {{ page }}
      </button>
    </li>

    <li class="page-item" [class.disabled]="currentPage === getTotalPages().length">
      <button class="page-link" (click)="goToPage(currentPage + 1)">Next</button>
    </li>
  </ul>
</nav>